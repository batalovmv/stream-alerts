# MemeLab Notify โ ะะพะฝัะตะฟัะธั ะฟัะพะดัะบัะฐ

## ะัะพะฑะปะตะผะฐ

ะกััะธะผะตัั ัะตัััั ะทัะธัะตะปะตะน ะธะท-ะทะฐ ัััั ะฟัะธัะธะฝ:
1. **Push-ัะฒะตะดะพะผะปะตะฝะธั ะฝะตะฝะฐะดัะถะฝั** โ Twitch/YouTube ะฝะพัะธัะธะบะฐัะธะธ ัะฐััะพ ะฝะต ะฟัะธัะพะดัั ะธะปะธ ะธะณะฝะพัะธัััััั
2. **ะััะฝะพะน ะฟะพััะธะฝะณ โ ัััะธะฝะฐ** โ ะฟะธัะฐัั ะฒ ะบะฐะฝะฐะป ะฟะตัะตะด ะบะฐะถะดัะผ ัััะธะผะพะผ ััะพะผะธัะตะปัะฝะพ ะธ ะทะฐะฑัะฒะฐะตััั
3. **ะะตั ะตะดะธะฝะพะณะพ ัะตัะตะฝะธั** โ ะดะปั ะบะฐะถะดะพะณะพ ะผะตััะตะฝะดะถะตัะฐ ะฝัะถะตะฝ ะพัะดะตะปัะฝัะน ะธะฝััััะผะตะฝั

## ะะตัะตะฝะธะต

**MemeLab Notify** โ ัะตัะฒะธั ะฐะฒัะพะผะฐัะธัะตัะบะธั ัะฒะตะดะพะผะปะตะฝะธะน ะพ ัััะธะผะฐั.

ะกััะธะผ ะฝะฐัะฐะปัั โ ะฐะฝะพะฝั ั ะฟัะตะฒัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพัะฒะปัะตััั ะฒ Telegram-ะบะฐะฝะฐะปะต ะธ MAX-ะณััะฟะฟะต ัััะธะผะตัะฐ.

ะกััะธะผะตั ะฝะฐัััะฐะธะฒะฐะตั ะพะดะธะฝ ัะฐะท โ ะดะฐะปััะต ะฒัั ัะฐะฑะพัะฐะตั ัะฐะผะพ.

---

## ะฆะตะปะตะฒะฐั ะฐัะดะธัะพัะธั

### ะกััะธะผะตัั (ะพัะฝะพะฒะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ)
- ะกััะธะผะตัั ะฝะฐ Twitch, VK Video, YouTube, Kick
- ะฃะถะต ะธัะฟะพะปัะทััั MemeLab ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะบะฐะฝะฐะปะพะผ
- ะะผะตัั Telegram-ะบะฐะฝะฐะปั ะธะปะธ MAX-ะณััะฟะฟั ะดะปั ะพะฑัะตะฝะธั ั ะฐัะดะธัะพัะธะตะน
- ะฅะพััั ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐัั ัััะธะฝั

### ะัะธัะตะปะธ (ะบะพะฝะตัะฝัะต ะฟะพะปััะฐัะตะปะธ)
- ะะพะดะฟะธััะธะบะธ ะบะฐะฝะฐะปะพะฒ/ะณััะฟะฟ ัััะธะผะตัะฐ
- ะฅะพััั ะฝะต ะฟัะพะฟััะบะฐัั ัััะธะผั
- ะัะตะดะฟะพัะธัะฐัั ัะฒะตะดะพะผะปะตะฝะธั ะฒ ะฟัะธะฒััะฝะพะผ ะผะตััะตะฝะดะถะตัะต

---

## ะะปััะตะฒัะต ะฟัะธะฝัะธะฟั

### 1. ะะธะฝะธะผัะผ ะดะตะนััะฒะธะน
ะะฐัััะพะนะบะฐ ะทะฐ 2 ะผะธะฝััั: ะฐะฒัะพัะธะทะฐัะธั โ ะดะพะฑะฐะฒะธัั ะฑะพัะฐ ะฒ ะบะฐะฝะฐะป โ ะณะพัะพะฒะพ.
ะะธะบะฐะบะธั ัะปะพะถะฝัั ะบะพะฝัะธะณััะฐัะธะน ะดะปั ะฑะฐะทะพะฒะพะณะพ ััะตะฝะฐัะธั.

### 2. ะัะฐัะพัะฐ ะฟะพ ัะผะพะปัะฐะฝะธั
ะะตัะพะปัะฝัะน ัะฐะฑะปะพะฝ ะฐะฝะพะฝัะฐ ะฒัะณะปัะดะธั ะฟัะพัะตััะธะพะฝะฐะปัะฝะพ: ัะพัะพ ะฟัะตะฒัั, ะฝะฐะทะฒะฐะฝะธะต ัััะธะผะฐ, ะบะฝะพะฟะบะฐ "ะกะผะพััะตัั". ะกััะธะผะตั ะผะพะถะตั ะบะฐััะพะผะธะทะธัะพะฒะฐัั, ะฝะพ ะธ ะฑะตะท ััะพะณะพ ะบัะฐัะธะฒะพ.

### 3. ะะฐะดัะถะฝะพััั
ะะฝะพะฝั ะดะพะปะถะตะฝ ะดะพะนัะธ. ะัะตัะตะดั ั retry, ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ, ะผะพะฝะธัะพัะธะฝะณ. ะัะปะธ Telegram API ัะฟะฐะป โ ัะพะพะฑัะตะฝะธะต ัะนะดัั ะบะพะณะดะฐ API ะฒะตัะฝัััั.

### 4. ะัะปััะธะฟะปะฐััะพัะผะตะฝะฝะพััั
ะะดะธะฝ dashboard โ ะฝะตัะบะพะปัะบะพ ะผะตััะตะฝะดะถะตัะพะฒ. Telegram ัะตะณะพะดะฝั, MAX ะทะฐะฒััะฐ, Discord ะฟะพัะปะตะทะฐะฒััะฐ. ะััะธัะตะบัััะฐ ะณะพัะพะฒะฐ ะบ ัะฐััะธัะตะฝะธั.

---

## ะคัะฝะบัะธะธ

### MVP (Phase 1)

| ะคัะฝะบัะธั | ะะฟะธัะฐะฝะธะต | ะัะธะพัะธัะตั |
|---------|---------|-----------|
| ะะฒัะพัะธะทะฐัะธั ัะตัะตะท MemeLab | ะะดะธะฝัะน ะฐะบะบะฐัะฝั, ะฑะตะท ะฝะพะฒะพะน ัะตะณะธัััะฐัะธะธ | ะัะธัะธัะฝะพ |
| ะะพะดะบะปััะตะฝะธะต Telegram-ะบะฐะฝะฐะปะฐ | ะะพะฑะฐะฒะธัั ะฑะพัะฐ โ ะบะฐะฝะฐะป ะฟะพัะฒะปัะตััั ะฒ dashboard | ะัะธัะธัะฝะพ |
| ะะฒัะพะผะฐัะธัะตัะบะธะน ะฐะฝะพะฝั | stream.online โ ัะพัะพ + ัะตะบัั + ะบะฝะพะฟะบะฐ ะฒ ะบะฐะฝะฐะปะต | ะัะธัะธัะฝะพ |
| ะะฐัััะพะนะบะฐ ัะฐะฑะปะพะฝะฐ | ะกะฒะพะน ัะตะบัั, ะฟะตัะตะผะตะฝะฝัะต {stream_title}, {game_name} ะธ ั.ะด. | ะะฐะถะฝะพ |
| ะฃะดะฐะปะตะฝะธะต ะฟะพัะปะต ัััะธะผะฐ | stream.offline โ ัะพะพะฑัะตะฝะธะต ัะดะฐะปัะตััั | ะะฐะถะฝะพ |
| ะขะตััะพะฒัะน ะฐะฝะพะฝั | ะัะพะฒะตัะธัั ะบะฐะบ ะฒัะณะปัะดะธั ะฟะตัะตะด ะทะฐะฟััะบะพะผ | ะะฐะถะฝะพ |
| ะะตัะบะพะปัะบะพ ะบะฐะฝะฐะปะพะฒ | ะะดะธะฝ ัััะธะผะตั โ N ะบะฐะฝะฐะปะพะฒ | ะะฐะถะฝะพ |

### Phase 2: ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะตะท ะฑะพัะฐ

| ะคัะฝะบัะธั | ะะฟะธัะฐะฝะธะต |
|---------|---------|
| /start | ะัะธะฒะตัััะฒะธะต, ะฟัะธะฒัะทะบะฐ ะฐะบะบะฐัะฝัะฐ |
| /channels | ะกะฟะธัะพะบ ะบะฐะฝะฐะปะพะฒ ั ะบะฝะพะฟะบะฐะผะธ ะฒะบะป/ะฒัะบะป |
| /test | ะขะตััะพะฒัะน ะฐะฝะพะฝั ะฒ ะฒัะฑัะฐะฝะฝัะน ะบะฐะฝะฐะป |
| /settings | ะะฐัััะพะนะบะธ ัะตัะตะท inline-ะบะฝะพะฟะบะธ |
| ะัะธะฒัะทะบะฐ ะฐะบะบะฐัะฝัะฐ | ะกะฒัะทะฐัั Telegram-ะฐะบะบะฐัะฝั ั MemeLab ัะตัะตะท ะฑะพัะฐ |

### Phase 3: MAX Messenger

| ะคัะฝะบัะธั | ะะฟะธัะฐะฝะธะต |
|---------|---------|
| ะะพะดะบะปััะตะฝะธะต MAX-ะณััะฟะฟั | ะะฝะฐะปะพะณะธัะฝะพ Telegram |
| MAX ะฑะพั | ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะตะท MAX ะฑะพัะฐ |
| ะะดะธะฝัะน dashboard | Telegram + MAX ะฒ ะพะดะฝะพะผ ะผะตััะต |

### Phase 4: ะะฐััะธัะตะฝะธะต

| ะคัะฝะบัะธั | ะะฟะธัะฐะฝะธะต |
|---------|---------|
| ะกัะฐัะธััะธะบะฐ | ะกะบะพะปัะบะพ ะฐะฝะพะฝัะพะฒ, ะดะพััะฐะฒะบะธ, ะพัะธะฑะบะธ |
| ะะฐัััะฐะธะฒะฐะตะผัะต ะบะฝะพะฟะบะธ | ะกะฒะพั ัััะปะบะฐ, ัะฒะพะน ัะตะบัั ะบะฝะพะฟะบะธ |
| Discord | ะขัะตััั ะฟะปะฐััะพัะผะฐ |
| ะัะปััะธัะทััะฝัะต ัะฐะฑะปะพะฝั | ะะฐะทะฝัะน ัะตะบัั ะดะปั ัะฐะทะฝัั ะบะฐะฝะฐะปะพะฒ |

### ะฃะฑัะฐะปะธ (ะฝะต ะฝัะถะฝะพ)

| ะคัะฝะบัะธั | ะะพัะตะผั ัะฑัะฐะปะธ |
|---------|--------------|
| ะะฐัััะพะนะบะฐ ะทะฒัะบะฐ | ะญัะพ ะฝะฐัััะพะนะบะฐ ะผะตััะตะฝะดะถะตัะฐ, ะฐ ะฝะต ะฑะพัะฐ |
| Cooldown | ะกััะธะผ ะฝะฐัะธะฝะฐะตััั ะพะดะธะฝ ัะฐะท, ะทะฐัะธัะฐ ะพั ะดัะฑะปะตะน ะดะพััะฐัะพัะฝะฐ |
| ะะฐัะฟะธัะฐะฝะธะต / ัะธัะธะต ัะฐัั | ะกััะธะผะตั ัะฐะผ ัะตัะฐะตั ะบะพะณะดะฐ ัััะธะผะธัั |
| ะะตััะพะฝะฐะปัะฝัะต ะฟะพะดะฟะธัะบะธ ัะตัะตะท ะฑะพัะฐ | ะกะปะธัะบะพะผ ัะปะพะถะฝะพ ะดะปั MVP, ะบะฐะฝะฐะปั/ะณััะฟะฟั โ ะฟัะพัะต |
| ะกะฒะพะน ะฑะพั ะดะปั ะบะฐะถะดะพะณะพ ัััะธะผะตัะฐ | ะะดะธะฝ ะณะปะพะฑะฐะปัะฝัะน ะฑะพั ะฟัะพัะต ะดะปั ะฒัะตั |

---

## User Flow

### ะกััะธะผะตั: ะฟะตัะฒะฐั ะฝะฐัััะพะนะบะฐ

```
notify.memelab.ru
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ
โ  "ะะพะนัะธ ัะตัะตะท   โ
โ   MemeLab"      โ
โโโโโโโโโโฌโโโโโโโโโ
         โ OAuth
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  Dashboard:     โ
โ  "ะะตั ะบะฐะฝะฐะปะพะฒ"  โ
โ                 โ
โ  [+ ะะพะฑะฐะฒะธัั]   โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  ะัะฑะพั:         โ
โ  โ Telegram     โ
โ  โ MAX          โ
โโโโโโโโโโฌโโโโโโโโโ
         โ Telegram
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  ะะฝััััะบัะธั:    โ
โ  "ะะพะฑะฐะฒััะต      โ
โ  @MemelabNotify โ
โ  Bot ะฒ ะบะฐะฝะฐะป    โ
โ  ะบะฐะบ ะฐะดะผะธะฝะฐ"    โ
โ                 โ
โ  [ะัะพะฒะตัะธัั]    โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  "ะะฐะฝะฐะป ะฝะฐะนะดะตะฝ!"โ
โ  #my_streams    โ
โ                 โ
โ  ะจะฐะฑะปะพะฝ: [...]  โ
โ  ะฃะดะฐะปััั: โ     โ
โ                 โ
โ  [ะขะตัั] [ะกะพัั.] โ
โโโโโโโโโโโโโโโโโโโ
```

### ะะฒัะพะผะฐัะธัะตัะบะธะน ะฐะฝะพะฝั

```
Twitch: stream.online
       โ
       โผ
MemeLab Backend
       โ POST /api/webhooks/stream
       โผ
Notify Backend
       โ
       โโ ะะฐะนัะธ ะบะฐะฝะฐะปั ัััะธะผะตัะฐ
       โโ ะกัะพัะผะธัะพะฒะฐัั ะฐะฝะพะฝั
       โโ ะะพะฑะฐะฒะธัั ะฒ ะพัะตัะตะดั
       โ
       โผ
BullMQ Worker
       โ
       โโ Telegram API: sendPhoto
       โโ ะกะพััะฐะฝะธัั message_id
       โโ ะะพะณะธัะพะฒะฐัั ัะตะทัะปััะฐั
       โ
       โผ
Telegram-ะบะฐะฝะฐะป:
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ด ะกััะธะผ ะฝะฐัะฐะปัั!      โ
โ                         โ
โ  [ะฟัะตะฒัั ัััะธะผะฐ.jpg]    โ
โ                         โ
โ  StreamerName ะฒ ััะธัะต   โ
โ  ๐บ ะะณัะฐะตะผ ะฒ Dota 2    โ
โ                         โ
โ  [๐ ะกะผะพััะตัั ัััะธะผ]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ะจะฐะฑะปะพะฝ ะฐะฝะพะฝัะฐ

### ะะพ ัะผะพะปัะฐะฝะธั

```
๐ด ะกััะธะผ ะฝะฐัะฐะปัั!

{streamer_name} ัะตะนัะฐั ะฒ ััะธัะต
๐บ {stream_title}
๐ฎ {game_name}
```

### ะะพัััะฟะฝัะต ะฟะตัะตะผะตะฝะฝัะต

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะัะธะผะตั |
|------------|---------|--------|
| `{streamer_name}` | ะะผั ัััะธะผะตัะฐ | StreamerName |
| `{stream_title}` | ะะฐะทะฒะฐะฝะธะต ัััะธะผะฐ | ะะณัะฐะตะผ ะฒ Dota 2 |
| `{game_name}` | ะะฐัะตะณะพัะธั / ะธะณัะฐ | Dota 2 |
| `{stream_url}` | ะกััะปะบะฐ ะฝะฐ ัััะธะผ | twitch.tv/streamer |
| `{memelab_url}` | ะกััะปะบะฐ ะฝะฐ MemeLab | memelab.ru/streamer |

### ะะฝะพะฟะบะธ ะฟะพะด ะฐะฝะพะฝัะพะผ (inline keyboard)

ะะพ ัะผะพะปัะฐะฝะธั:
- **ะกะผะพััะตัั ัััะธะผ** โ ัััะปะบะฐ ะฝะฐ ััะฐะฝัะปััะธั
- **MemeLab** โ ัััะปะบะฐ ะฝะฐ ัััะฐะฝะธัั ะบะฐะฝะฐะปะฐ ะฒ MemeLab

---

## ะะฝัะตะณัะฐัะธั ั MemeLab

### Webhook: Stream Events

MemeLab backend ะพัะฟัะฐะฒะปัะตั webhook ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ััะฐัััะฐ ัััะธะผะฐ:

```
POST https://notify.memelab.ru/api/webhooks/stream
Headers:
  X-Webhook-Secret: <shared_secret>
  Content-Type: application/json
Body:
{
  "event": "stream.online",
  "channelId": "uuid-of-channel",
  "channelSlug": "streamer_name",
  "twitchLogin": "streamer_name",
  "streamTitle": "ะะณัะฐะตะผ ะฒ Dota 2",
  "gameName": "Dota 2",
  "thumbnailUrl": "https://static-cdn.jtvnw.net/previews-ttv/live_user_streamer-1280x720.jpg",
  "startedAt": "2026-02-16T18:00:00Z"
}
```

### OAuth: ะะฒัะพัะธะทะฐัะธั ัััะธะผะตัะฐ

ะกััะธะผะตั ะฐะฒัะพัะธะทัะตััั ัะตัะตะท ะพัะฝะพะฒะฝะพะน MemeLab:
1. Notify ะฟะตัะตะฝะฐะฟัะฐะฒะปัะตั ะฝะฐ `memelab.ru/oauth/authorize`
2. MemeLab ะฒัะดะฐัั access_token
3. Notify ะทะฐะฟัะฐัะธะฒะฐะตั `GET memelab.ru/api/me` ะดะปั ะดะฐะฝะฝัั ัััะธะผะตัะฐ

---

## ะะตััะธะบะธ ััะฟะตัะฐ

| ะะตััะธะบะฐ | ะะฟะธัะฐะฝะธะต |
|---------|---------|
| ะะพะดะบะปัััะฝะฝัั ะบะฐะฝะฐะปะพะฒ | ะกะบะพะปัะบะพ ะบะฐะฝะฐะปะพะฒ/ะณััะฟะฟ ะฟะพะดะบะปััะตะฝะพ |
| ะะฝะพะฝัะพะฒ / ะดะตะฝั | ะกะบะพะปัะบะพ ะฐะฝะพะฝัะพะฒ ะพัะฟัะฐะฒะปัะตััั ะตะถะตะดะฝะตะฒะฝะพ |
| ะัะตะผั ะดะพััะฐะฒะบะธ | ะั stream.online ะดะพ ะพัะฟัะฐะฒะบะธ (ัะตะปั: < 5 ัะตะบัะฝะด) |
| ะัะธะฑะพะบ / ะดะตะฝั | ะกะบะพะปัะบะพ ะฝะต ัะดะฐะปะพัั ะดะพััะฐะฒะธัั |
| ะะบัะธะฒะฝัั ัััะธะผะตัะพะฒ | ะกะบะพะปัะบะพ ัััะธะผะตัะพะฒ ะธัะฟะพะปัะทััั ัะตัะฒะธั |

---

*ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต: 2026-02-16*
